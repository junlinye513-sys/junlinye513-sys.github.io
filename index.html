<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>ç·šä¸Šå­¸ç§‘æ¸¬é©—ä¸»é </title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- ===============================
       ğŸ¨ å…¨ç«™æ¨£å¼è¨­å®š
       =============================== -->
  <style>
    :root {
      --primary: #4A8FE7;
      --primary-dark: #2d6ac5;
      --bg: #f2f6fc;
      --card-bg: #ffffff;
      --text: #333;
      --text-light: #666;
      --radius: 14px;
    }

    body {
      font-family: "Microsoft JhengHei", sans-serif;
      margin: 0;
      background: var(--bg);
      color: var(--text);
    }

    /* ===== Hero å€ï¼ˆæ¨™é¡Œï¼‹çµ±è¨ˆï¼‰ ===== */
    .hero {
      text-align: center;
      padding: 50px 20px 20px;
      background: linear-gradient(160deg, #e8f1ff, #f6fbff);
    }
    .hero h1 {
      font-size: 36px;
      color: var(--primary-dark);
      margin: 0;
    }
    .hero-info {
      margin-top: 10px;
      font-size: 15px;
      color: #444;
    }
    .hero-img {
      width: 300px;
      margin-top: 15px;
    }

    /* ===== å…¬å‘Š / å»£å‘Šå€ï¼ˆå¯æ› AdSenseï¼‰ ===== */
    .ad-box {
      max-width: 900px;
      margin: 20px auto;
      padding: 16px 20px;
      background: #fff7e6;
      border: 1px dashed #f0c36d;
      border-radius: 12px;
      text-align: center;
      color: #7a5a00;
      font-size: 15px;
    }
    .ad-box strong {
      display: block;
      font-size: 16px;
      margin-bottom: 6px;
    }

    /* ===== æœå°‹åˆ— ===== */
    .search-box {
      max-width: 600px;
      margin: 20px auto;
      text-align: center;
    }
    .search-box input {
      width: 100%;
      padding: 12px 16px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    /* ===== æ¸¬é©—å¡ç‰‡ ===== */
    #tool-list {
      max-width: 900px;
      margin: 40px auto;
      padding: 0 20px;
      display: grid;
      gap: 20px;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    }

    .tool-card {
      background: var(--card-bg);
      padding: 22px;
      border-radius: var(--radius);
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .tool-card h3 {
      margin: 0;
      font-size: 20px;
      color: var(--primary-dark);
    }
    .tool-card p {
      margin: 8px 0 18px;
      color: var(--text-light);
    }
    .btn {
      padding: 10px 16px;
      background: var(--primary);
      color: #fff;
      border-radius: 8px;
      text-decoration: none;
      display: inline-block;
    }

    footer {
      text-align: center;
      padding: 20px;
      font-size: 14px;
      color: #aaa;
    }
  </style>
</head>

<body>

<!-- ===============================
     ğŸ·ï¸ Hero å€
     =============================== -->
<section class="hero">
  <h1>ç·šä¸Šå­¸ç§‘æ¸¬é©—ä¸­å¿ƒ</h1>
  <!-- é€™è£¡ç”± JS å‹•æ…‹é¡¯ç¤ºåœ¨ç·šèˆ‡è¨ªå®¢ -->
  <div class="hero-info" id="stats">è¼‰å…¥ä¸­...</div>
  <img class="hero-img"
       src="https://ssl.gstatic.com/classroom/themes/img_bookclub.jpg">
</section>

<!-- ===============================
     ğŸ“¢ å…¬å‘Š / å»£å‘Šå€
     =============================== -->
<div class="ad-box">
  <strong>ğŸ“¢ å…¬å‘Šè³‡è¨Š</strong>
  æœ¬ç«™ç‚ºå€‹äººæ•™å­¸è¼”åŠ©ç³»çµ±ï¼Œå…§å®¹æŒçºŒæ›´æ–°ä¸­
</div>

<!-- ===============================
     ğŸ” æœå°‹åˆ—
     =============================== -->
<div class="search-box">
  <input id="search" type="text"
         placeholder="æœå°‹ç§‘ç›®é—œéµå­—ï¼ˆå¦‚ï¼šä¸™ç´šã€è»Ÿé«”ã€ç¶²é ï¼‰">
</div>

<!-- ===============================
     ğŸ“š æ¸¬é©—åˆ—è¡¨
     =============================== -->
<div id="tool-list"></div>

<!-- ===============================
     âš™ï¸ ä¸»ç¨‹å¼å€ï¼ˆåªæœ‰ä¸€ä»½ï¼Œä¹¾æ·¨ç‰ˆï¼‰
     =============================== -->
<script>
  /* ========= A. å¼·åˆ¶æ›å…‰å»£å‘Šä¸€æ¬¡ =========
     ç¬¬ä¸€æ¬¡é€²ç«™æ‰å°å‘ ad.html
     ad.html çœ‹å®Œå¾Œè«‹è¨˜å¾—ï¼š
     localStorage.setItem("AD_SEEN", "1")
  ======================================= */
  if (!localStorage.getItem("AD_SEEN")) {
    location.replace("ad.html");
  }

  /* ========= B. å¾Œç«¯ API è¨­å®š ========= */
  const API = "https://script.google.com/macros/s/AKfycbxAp06fzFAYTDRh17fZqe4pfytLRHAuNcPb8ubRKQJkCJZDEyVze9_fylV847gkz9jt/exec";
  const ua = encodeURIComponent(navigator.userAgent);

  /* ========= C. ä½¿ç”¨è€… IDï¼ˆå›ºå®šï¼‰ ========= */
  let userId = localStorage.getItem("USER_ID");
  if (!userId) {
    userId = "u" + Math.random().toString(36).substring(2);
    localStorage.setItem("USER_ID", userId);
  }

  /* ========= D. æ¸¬é©—è³‡æ–™ ========= */
  const data = [
    {
      title: "è»Ÿé«”æ‡‰ç”¨ä¸™ç´šå­¸ç§‘",
      description: "é›»è…¦æ¦‚è«–ã€æ‡‰ç”¨è»Ÿé«”ä½¿ç”¨ã€ç³»çµ±è»Ÿé«”ä½¿ç”¨ã€è³‡è¨Šå®‰å…¨ã€å…±åŒç§‘ç›®",
      url: "https://script.google.com/macros/s/AKfycbzAmI0792BkW7nQvCXitQGBwK0sAmr0oHTs5XXOolgpFgtfogGYh7JVHXuQ-0b8mtpd/exec"
    },
    {
      title: "ç¶²é è¨­è¨ˆä¸™ç´šå­¸ç§‘",
      description: "ä½œæ¥­æº–å‚™ã€æ‡‰ç”¨è»Ÿé«”å®‰è£ã€ç³»çµ±è»Ÿé«”ã€è³‡è¨Šå®‰å…¨ã€å…±åŒç§‘ç›®",
      url: "https://script.google.com/macros/s/AKfycbzyzxH0PutzRpCZBYPJbvzTTqGAYYDqAK86ZQoBx8lVzXzN3fmxgd26lBUZMLSQ2Pdp/exec"
    },
    {
      title: "ç¶²è·¯æ¶è¨­ä¸™ç´šå­¸ç§‘",
      description: "è­˜åœ–èˆ‡è£½åœ–ã€ç¶²è·¯ä½ˆç·šã€ç¶²è·¯è¨­å‚™ã€è»Ÿé«”æ‡‰ç”¨",
      url: "https://script.google.com/macros/s/AKfycbwEE7inwNKRQ4cf-tsb5_ujvqnvNOkKM0UVNIUxNeuBW62mEaUbfdevjBFo0UH-QXuz/exec"
    },
    {
      title: "è»Ÿé«”è¨­è¨ˆä¸™ç´šå­¸ç§‘",
      description: "ç¨‹å¼è¨­è¨ˆã€ç³»çµ±ç™¼å±•ã€è³‡è¨Šå®‰å…¨ã€å…±åŒç§‘ç›®",
      url: "https://script.google.com/macros/s/AKfycbz2fWW9XGhQlhCvaYVKjLr7JK_PIrkxS4q6IkJID0A58DEiVWej42Mw2t6ziW0nwWJc/exec"
    },
    {
      title: "è»Ÿé«”æ‡‰ç”¨ä¹™ç´šå­¸ç§‘",
      description: "é›»è…¦æ¦‚è«–ã€æ‡‰ç”¨è»Ÿé«”ã€ç³»çµ±è»Ÿé«”ã€è³‡è¨Šå®‰å…¨",
      url: "https://script.google.com/macros/s/AKfycbyE_QjwST9zmBWCBNgoBwqArdYfPWqIhM31UZDO-D3ZLXgv0LzLCKz3AfQbC1YKzKxx-Q/exec"
    }
  ];

  /* ========= E. æ¸²æŸ“æ¸¬é©—å¡ ========= */
  function render(list) {
    document.getElementById("tool-list").innerHTML =
      list.map(t => `
        <div class="tool-card">
          <h3>${t.title}</h3>
          <p>${t.description}</p>
          <a class="btn" href="${t.url}" target="_blank">é–‹å§‹æ¸¬é©—</a>
        </div>
      `).join("");
  }
  render(data);

  /* ========= F. æœå°‹åŠŸèƒ½ ========= */
  document.getElementById("search").addEventListener("input", e => {
    const kw = e.target.value.toLowerCase();
    render(data.filter(t =>
      t.title.toLowerCase().includes(kw) ||
      t.description.toLowerCase().includes(kw)
    ));
  });

  /* ========= G. æ›´æ–°çµ±è¨ˆ ========= */
  async function updateStats() {
    const statsEl = document.getElementById("stats");

    const visit = await fetch(
      `${API}?action=visit&ua=${ua}&vid=${encodeURIComponent(userId)}`
    ).then(r => r.json());

    const online = await fetch(
      `${API}?action=online`
    ).then(r => r.json());

    statsEl.innerHTML = `
      ğŸ‘¥ ç›®å‰åœ¨ç·šï¼š${online.online ?? 0} äººã€€
      ğŸ“ˆ ç´¯è¨ˆè¨ªå®¢ï¼š${visit.total ?? 0} äºº
    `;
  }

  /* ========= H. ä¸Šç·šå³è¨»å†Šåœ¨ç·š ========= */
  fetch(`${API}?action=heartbeat&userId=${userId}&ua=${ua}`)
    .then(updateStats);

  /* ========= I. æ¯ 10 ç§’å¿ƒè·³ ========= */
  setInterval(() => {
    fetch(`${API}?action=heartbeat&userId=${userId}&ua=${ua}`);
    updateStats();
  }, 10000);
</script>

<!-- ===============================
     ğŸ“„ Footer
     =============================== -->
<footer>
  Â© 2025 ç·šä¸Šå­¸ç§‘æ¸¬é©—ç³»çµ± ï½œ 
  <a href="about.html">é—œæ–¼æœ¬ç«™</a> ï½œ 
  <a href="privacy.html">éš±ç§æ¬Šæ”¿ç­–</a> ï½œ 
  <a href="contact.html">è¯çµ¡æˆ‘å€‘</a>
</footer>

</body>
</html>
